% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cnetPlot.R
\name{cnetPlot}
\alias{cnetPlot}
\title{cnetPlot}
\usage{
cnetPlot(
  seDataFgsea,
  showCategory = 5,
  nodeLabel = "category",
  fontSize = 1,
  color = NULL,
  circular = FALSE,
  breaklineN = 30,
  layout = igraph::layout_nicely,
  colorCategory = "#E5C494",
  sizeCategory = 0.9,
  colorItem = "#B3B3B3",
  sizeItem = 0.8,
  colorEdge = "grey80",
  sizeEdge = 0.4,
  hilight = "none",
  hilightAlpha = 0.3,
  seed = NULL
)
}
\arguments{
\item{seDataFgsea}{A \code{SummarizedExperiment} object containing GSEA
results. The object must include:
\itemize{
\item \code{metadata(seDataFgsea)$gseaResult}: A GSEA result object with
pathway information, gene sets, and enrichment statistics.
\item (Optional) \code{metadata(seDataFgsea)$cor.df}: A data frame of gene-level
correlation values, required when using the \code{color} parameter.
}}

\item{showCategory}{Either a numeric value specifying the number of top
pathways to display, or a character vector specifying specific pathway
names. Default is \code{5}.}

\item{nodeLabel}{Character string specifying which type of nodes should be
labeled. Must be one of \code{c("category", "all", "none", "item", "gene",
  "exclusive", "share")}. Default is \code{"category"}.}

\item{fontSize}{Numeric. Base size for text labels (applied as a scaling factor).
Default is \code{1}.}

\item{color}{Character or \code{NULL}. The column name from
\code{metadata(seDataFgsea)$cor.df} to be used for coloring gene nodes
(e.g., correlation coefficients or log2 fold changes). When \code{NULL},
nodes are colored using the default item color. Default is \code{NULL}.}

\item{circular}{Logical. Whether to arrange nodes in a circular layout.
Default is \code{FALSE}.}

\item{breaklineN}{Integer. Maximum number of characters before inserting line
breaks in pathway names for improved readability. Default is \code{30}.}

\item{layout}{Layout function for node positioning. Default is
\code{igraph::layout_nicely}. Can be replaced with any \pkg{igraph} layout
function.}

\item{colorCategory}{Character. Color for category (pathway) nodes.
Default is \code{"#E5C494"}.}

\item{sizeCategory}{Numeric. Scaling factor for category node sizes.
Default is \code{0.9}.}

\item{colorItem}{Character. Color for item (gene) nodes when
\code{color = NULL}. Default is \code{"#B3B3B3"}.}

\item{sizeItem}{Numeric. Scaling factor for item (gene) node sizes.
Default is \code{0.8}.}

\item{colorEdge}{Character. Edge color or \code{"category"} to color edges by
their associated pathway. Default is \code{"grey80"}.}

\item{sizeEdge}{Numeric. Edge line width. Default is \code{0.4}.}

\item{hilight}{Character vector or \code{"none"}. Pathways to highlight
(opacity = 1). Non-highlighted nodes will have reduced opacity controlled
by \code{hilightAlpha}. Default is \code{"none"}.}

\item{hilightAlpha}{Numeric. Transparency level (0-1) for non-highlighted
nodes. Default is \code{0.3}.}

\item{seed}{Integer or \code{NULL}. Random seed for reproducible layout
generation. Default is \code{NULL}.}
}
\value{
A named list containing three components:
\itemize{
\item \code{cnetPlot}: A \code{ggplot2} object representing the concept
network visualization.
\item \code{tableEdgeCnetPlot}: A \code{data.frame} of network edges with
columns:
\itemize{
\item \code{from}: Pathway (category) identifier.
\item \code{to}: Gene symbol(s) associated with the pathway.
}
\item \code{tableNodeCnetPlot}: A \code{data.frame} of node attributes with
columns:
\itemize{
\item \code{id}: Node identifier (pathway or gene name).
\item \code{size}: Node size used in visualization.
\item (Optional) Column named by \code{color} parameter, containing
the numeric values mapped to gene color scale.
}
}
}
\description{
The \code{cnetPlot} function generates a highly customizable
concept network (CNET) visualization for gene set enrichment analysis (GSEA)
results. It displays the relationships between enriched pathways and their
associated genes as a network graph, where nodes represent pathways or genes
and edges represent their associations. Users can control node and edge
aesthetics, highlight specific pathways, and optionally map gene-level
correlation values to node colors.
}
\details{
This function builds upon \pkg{ggtangle} and \pkg{igraph} for flexible
concept network visualization. Users can:
\itemize{
\item Control node/edge colors, sizes, and layout.
\item Overlay continuous gene metrics (e.g., correlation, fold change).
\item Highlight specific pathways using \code{hilight}.
\item Automatically wrap long pathway names using \code{breaklineN}.
}

When \code{color} is provided, gene nodes are colored according to their
corresponding values using a diverging or sequential color scale. When
\code{color = NULL}, all item nodes are rendered in a uniform grey tone.
}
\note{
Requires \pkg{ggtangle} (>= 1.0.0), \pkg{enrichplot} (>= 1.21.0),
and \pkg{ggplot2} (>= 3.5.0) for full compatibility.
}
\examples{
data("sig2Fun_result")
cnetPlot(seDataFgsea = sig2Fun_result,
         color = "cor")

}
